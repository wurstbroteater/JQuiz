{% extends "quiz/leaderboard_base.html" %}

{% block title %}Overall Leaderboard{% endblock %}

{% block content %}
    <div id="leaderboard">
        <h1>Leaderboard</h1>
        {% for quiz_data in leaderboard_data %}
            <h2>{{ quiz_data.quiz.name }}</h2>
            <table>
                <thead>
                <tr>
                    <th>Rank</th>
                    <th>User</th>
                    <th>Correct</th>
                    <th>Score (%)</th>
                </tr>
                </thead>
                <tbody>
                {% for score in quiz_data.user_scores %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ score.username }}</td>
                        <td>{{ score.total_correct }}</td>
                        <td>{{ score.score_percentage|floatformat:2 }}</td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="4">No users have completed this quiz yet.</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% endfor %}
    </div>
{% endblock %}
